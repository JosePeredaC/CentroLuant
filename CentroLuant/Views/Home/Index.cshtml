@{
    ViewData["Title"] = "Inicio";
    var rolUsuario = User.IsInRole("Administrador") ? "Administrador" :
                         User.IsInRole("Recepcionista") ? "Recepcionista" :
                         User.IsInRole("Especialista") ? "Especialista" :
                         "";
}

<style>
    .home-wrapper {
        max-width: 1120px;
        margin: 0 auto;
        padding: 24px 0 40px;
    }

    .home-header-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: #0F172A;
        margin-bottom: 4px;
    }

    .home-header-subtitle {
        color: #64748B;
        font-size: 0.95rem;
        margin-bottom: 18px;
    }

    .home-header-helper {
        color: #94A3B8;
        font-size: 0.85rem;
        margin-bottom: 0;
    }

    .module-grid {
        margin-top: 24px;
    }

    .module-card {
        background: #FFFFFF;
        border-radius: 14px;
        border: 1px solid #E2E8F0;
        padding: 18px 18px 16px;
        height: 100%;
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        gap: 14px;
        box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
        transition: border-color .15s ease, box-shadow .15s ease, transform .15s ease, background-color .15s ease;
    }

        .module-card:hover {
            border-color: #3B82F6;
            box-shadow: 0 10px 26px rgba(15, 23, 42, 0.10);
            transform: translateY(-2px);
            background-color: #F9FAFB;
            cursor: pointer;
        }

    .module-icon {
        width: 52px;
        height: 52px;
        border-radius: 999px; 
        overflow: hidden; 
        background: #E0F2FE;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

        /* si usas imágenes dentro */
        .module-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* recorta sin deformar */
            display: block;
        }

    .module-title {
        font-size: 1rem;
        font-weight: 600;
        color: #0F172A;
        margin-bottom: 3px;
    }

    .module-text {
        font-size: 0.88rem;
        color: #64748B;
        margin-bottom: 8px;
        line-height: 1.35rem;
    }

    .module-meta {
        font-size: 0.8rem;
        color: #94A3B8;
        margin-top: auto;
    }
</style>

<div class="home-wrapper">
    <!-- ENCABEZADO -->
    <div class="mb-3">
        <h1 class="home-header-title">Módulo @rolUsuario</h1>
        <p class="home-header-subtitle">Centro Odontológico Luant</p>
        <p class="home-header-helper">
            Desde aquí puede acceder a los módulos principales del sistema.
            Seleccione la opción correspondiente a la tarea que desea realizar.
        </p>
    </div>

    <!-- TARJETAS DE MÓDULO -->
    <div class="row module-grid g-3">

        <!-- Gestión clínica -->
        <div class="col-lg-4 col-md-6">
            <div class="module-card" onclick="location.href='@Url.Action("Historial", "Clinico")'">
                <div class="module-icon">
                    <i class="bi bi-journal-medical"><img src="~/img/gestion-clinica.jpg" class="module-icon"></i>
                </div>
                <div>
                    <div class="module-title">Gestión clínica</div>
                    <div class="module-text">
                        Consulta historiales médicos y registra diagnósticos y tratamientos realizados.
                    </div>
                </div>
            </div>
        </div>
        @if (User.IsInRole("Recepcionista") || User.IsInRole("Administrador"))
        {
            <!-- Gestión de pacientes -->
            <div class="col-lg-4 col-md-6">
                <div class="module-card" onclick="location.href='@Url.Action("Index", "Paciente")'">
                    <div class="module-icon">
                        <i class="bi bi-people"><img src="~/img/gestion-paciente.jpg" class="module-icon"></i>
                    </div>
                    <div>
                        <div class="module-title">Gestión de pacientes</div>
                        <div class="module-text">
                            Registro, actualización y consulta de datos personales y clínicos del paciente.
                        </div>
                    </div>
                </div>
            </div>
        }
        @if (User.IsInRole("Recepcionista") || User.IsInRole("Administrador"))
        {
            <!-- Gestión de citas -->
            <div class="col-lg-4 col-md-6">
                <div class="module-card" onclick="location.href='@Url.Action("Index", "Cita")'">
                    <div class="module-icon">
                        <i class="bi bi-calendar2-check"><img src="~/img/gestion-citas.jpg" class="module-icon"></i>
                    </div>
                    <div>
                        <div class="module-title">Consultar citas</div>
                        <div class="module-text">
                            Agenda clínica: programación, control y seguimiento de citas por paciente y especialista.
                        </div>
                    </div>
                </div>
            </div>
        }
        @if (User.IsInRole("Recepcionista") || User.IsInRole("Administrador"))
        {
            <!-- Gestión de facturas-->
            <div class="col-lg-4 col-md-6">
                <div class="module-card" onclick="location.href='@Url.Action("Index", "Factura")'">
                    <div class="module-icon">
                        <i class="bi bi-calendar2-check"><img src="~/img/facturacion.jpg" class="module-icon"></i>
                    </div>
                    <div>
                        <div class="module-title">Gestión de facturas</div>
                        <div class="module-text">
                            Gestión y control de las facturas registradas en la clínica.
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
